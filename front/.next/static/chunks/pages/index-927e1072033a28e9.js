(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{6140:function(n,e,t){"use strict";t.r(e),t.d(e,{__N_SSP:function(){return h},default:function(){return m}});var i=t(9110),r=t(9473),a=t(6793),c=t(2688),o=t(1889),u=t(7294),l=t(3075),s=t(5504),d=t(5893),f=function(){var n=(0,r.v9)((function(n){return n.post})).imagePaths,e=(0,r.I0)(),t=(0,u.useRef)(),i=(0,u.useCallback)((function(){t.current.click()}),[t.current]),f=(0,u.useState)(""),p=f[0],h=f[1],m=(0,u.useCallback)((function(n){h(n.target.value)}),[]),v=(0,u.useCallback)((function(){if(!p)return alert("\ub0b4\uc6a9\uc774 \uc5c6\uc2b5\ub2c8\ub2e4.");var t=new FormData;n.forEach((function(n){t.append("image",n)})),t.append("content",p),e({type:l.z9,data:t}),h("")}),[p,n]),x=(0,u.useCallback)((function(n){var t=new FormData;[].forEach.call(n.target.files,(function(n){t.append("image",n)})),e({type:l.QA,data:t})})),g=(0,u.useCallback)((function(n){return function(){e({type:l.Po,data:n})}}));return(0,d.jsxs)(a.Z,{style:{margin:"10px 0 20px"},encType:"multipart/form-data",onFinish:v,children:[(0,d.jsx)(c.Z.TextArea,{value:p,onChange:m,maxLength:140,placeholder:"\ub0b4\uc6a9\uc744 \uc785\ub825\ud574\uc8fc\uc138\uc694"}),(0,d.jsxs)("div",{children:[(0,d.jsx)("input",{type:"file",name:"image",multiple:!0,hidden:!0,ref:t,onChange:x}),(0,d.jsx)(o.Z,{onClick:i,children:"\uc5c5\ub85c\ub4dc"}),(0,d.jsx)(o.Z,{type:"primary",style:{float:"right"},htmlType:"submit",children:"\uc804\uc1a1"})]}),(0,d.jsx)("div",{children:n.map((function(n,e){return(0,d.jsxs)("div",{style:{display:"inline-block"},children:[(0,d.jsx)("img",{src:"".concat((0,s.Z)(),"/").concat(n),style:{width:"200px"},alt:n}),(0,d.jsx)("div",{children:(0,d.jsx)(o.Z,{onClick:g(e),children:"\uc81c\uac70"})})]},n)}))})]})},p=t(8715),h=!0,m=function(){var n=(0,r.v9)((function(n){return n.user})).me,e=(0,r.v9)((function(n){return n.post})),t=e.mainPosts,a=e.hasMorePosts,c=e.loadPostsLoading,o=(0,r.I0)();return(0,u.useEffect)((function(){function n(){if(window.scrollY+document.documentElement.clientHeight>document.documentElement.scrollHeight-500&&a&&!c){var n,e=null===(n=t[t.length-1])||void 0===n?void 0:n.id;o({type:l.aO,lastId:e})}}return window.addEventListener("scroll",n),function(){window.removeEventListener("scroll",n)}}),[t,a,c]),(0,d.jsxs)(i.Z,{children:[n&&(0,d.jsx)(f,{}),t.map((function(n){return(0,d.jsx)(p.Z,{post:n},n.id)}))]})}},5557:function(n,e,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return t(6140)}])}},function(n){n.O(0,[885,527,936,514,269,774,888,179],(function(){return e=5557,n(n.s=e);var e}));var e=n.O();_N_E=e}]);